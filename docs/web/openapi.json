{"openapi":"3.1.0","info":{"title":"PlexAniBridge","version":"1.6.0"},"paths":{"/api/history/{profile}":{"get":{"tags":["history"],"summary":"Get History","description":"Get paginated timeline for profile.\n\nArgs:\n    profile (str): The profile name.\n    page (int): The page number.\n    per_page (int): The number of items per page.\n    outcome (str | None): Filter by outcome.\n\nReturns:\n    GetHistoryResponse: The paginated history response.\n\nRaises:\n    SchedulerNotInitializedError: If the scheduler is not running.\n    ProfileNotFoundError: If the profile is unknown.","operationId":"get_history_api_history__profile__get","parameters":[{"name":"profile","in":"path","required":true,"schema":{"type":"string","title":"Profile"}},{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","default":25,"title":"Per Page"}},{"name":"outcome","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by outcome","title":"Outcome"},"description":"Filter by outcome"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetHistoryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/history/{profile}/{item_id}":{"delete":{"tags":["history"],"summary":"Delete History","description":"Delete a history item.\n\nArgs:\n    profile (str): The profile name.\n    item_id (int): The ID of the history item to delete.\n\nReturns:\n    OkResponse: The response indicating success.\n\nRaises:\n    HistoryItemNotFoundError: If the specified item does not exist.","operationId":"delete_history_api_history__profile___item_id__delete","parameters":[{"name":"profile","in":"path","required":true,"schema":{"type":"string","title":"Profile"}},{"name":"item_id","in":"path","required":true,"schema":{"type":"integer","title":"Item Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__web__routes__api__history__OkResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/history/{profile}/{item_id}/undo":{"post":{"tags":["history"],"summary":"Undo History","description":"Undo a history item if possible.\n\nRaises:\n    SchedulerNotInitializedError: If the scheduler is not running.\n    ProfileNotFoundError: If the profile is unknown.\n    HistoryItemNotFoundError: If the specified item does not exist.","operationId":"undo_history_api_history__profile___item_id__undo_post","parameters":[{"name":"profile","in":"path","required":true,"schema":{"type":"string","title":"Profile"}},{"name":"item_id","in":"path","required":true,"schema":{"type":"integer","title":"Item Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UndoResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/backups/{profile}":{"get":{"tags":["backups"],"summary":"List Backups","description":"List backups for a profile.\n\nArgs:\n    profile (str): Profile name\n\nReturns:\n    ListBackupsResponse: List of available backups\n\nRaises:\n    SchedulerNotInitializedError: If the scheduler is not running.\n    ProfileNotFoundError: If the profile is unknown.","operationId":"list_backups_api_backups__profile__get","parameters":[{"name":"profile","in":"path","required":true,"schema":{"type":"string","title":"Profile"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListBackupsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/backups/{profile}/restore":{"post":{"tags":["backups"],"summary":"Restore Backup","description":"Restore a backup file (no dry-run mode).\n\nRaises:\n    SchedulerNotInitializedError: If the scheduler is not running.\n    ProfileNotFoundError: If the profile is unknown.\n    InvalidBackupFilenameError: If the filename is invalid (e.g., path traversal).\n    BackupFileNotFoundError: If the backup file does not exist.","operationId":"restore_backup_api_backups__profile__restore_post","parameters":[{"name":"profile","in":"path","required":true,"schema":{"type":"string","title":"Profile"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RestoreRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RestoreSummary"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/backups/{profile}/raw/{filename}":{"get":{"tags":["backups"],"summary":"Get Backup Raw","description":"Return raw JSON content of a backup.\n\nThe response is unvalidated JSON so the UI can present a preview.\n\nRaises:\n    SchedulerNotInitializedError: If the scheduler is not running.\n    ProfileNotFoundError: If the profile is unknown.\n    InvalidBackupFilenameError: If the filename is invalid.\n    BackupFileNotFoundError: If the backup file was not found.","operationId":"get_backup_raw_api_backups__profile__raw__filename__get","parameters":[{"name":"profile","in":"path","required":true,"schema":{"type":"string","title":"Profile"}},{"name":"filename","in":"path","required":true,"schema":{"type":"string","title":"Filename"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Backup Raw Api Backups  Profile  Raw  Filename  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/mappings/query-capabilities":{"get":{"tags":["mappings"],"summary":"Get Query Capabilities","description":"Return supported operators for each queryable field.\n\nThis allows the frontend to tailor suggestions based on backend capabilities.","operationId":"get_query_capabilities_api_mappings_query_capabilities_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueryCapabilitiesResponse"}}}}}}},"/api/mappings":{"get":{"tags":["mappings"],"summary":"List Mappings","description":"List mappings from AniMap database with optional search and pagination.\n\nArgs:\n    page (int): 1-based page number.\n    per_page (int): Number of items per page.\n    q (str | None): Booru-like query string.\n    custom_only (bool): Include only custom mappings.\n    with_anilist (bool): Include AniList metadata.\n\nReturns:\n    ListMappingsResponse: The paginated list of mappings.","operationId":"list_mappings_api_mappings_get","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"default":1,"title":"Page"}},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","maximum":250,"minimum":1,"default":25,"title":"Per Page"}},{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Q"}},{"name":"custom_only","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Custom Only"}},{"name":"with_anilist","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"With Anilist"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListMappingsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["mappings"],"summary":"Create Mapping","description":"Create a new custom mapping.\n\nArgs:\n    mapping (dict[str, Any]): The mapping data to create.\n\nReturns:\n    dict[str, Any]: The created mapping.\n\nRaises:\n    MissingAnilistIdError: If anilist_id is not provided.\n    UnsupportedMappingFileExtensionError: If the custom file extension is\n        unsupported.","operationId":"create_mapping_api_mappings_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Mapping"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MappingItemModel"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/mappings/{mapping_id}":{"put":{"tags":["mappings"],"summary":"Update Mapping","description":"Update an existing custom mapping.\n\nArgs:\n    mapping_id (int): The ID of the mapping to update.\n    mapping (dict[str, Any]): The updated mapping data.\n\nReturns:\n    dict[str, Any]: The updated mapping.\n\nRaises:\n    MappingIdMismatchError: If anilist_id in the body does not match the URL.\n    UnsupportedMappingFileExtensionError: If the custom file extension is\n        unsupported.","operationId":"update_mapping_api_mappings__mapping_id__put","parameters":[{"name":"mapping_id","in":"path","required":true,"schema":{"type":"integer","title":"Mapping Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Mapping"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MappingItemModel"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["mappings"],"summary":"Get Mapping","description":"Retrieve a single mapping by ID.\n\nArgs:\n    mapping_id (int): The ID of the mapping to retrieve.\n\nReturns:\n    dict[str, Any]: The mapping data.\n\nRaises:\n    MappingNotFoundError: If the mapping does not exist.","operationId":"get_mapping_api_mappings__mapping_id__get","parameters":[{"name":"mapping_id","in":"path","required":true,"schema":{"type":"integer","title":"Mapping Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MappingItemModel"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["mappings"],"summary":"Delete Mapping","description":"Delete a mapping.\n\nArgs:\n    mapping_id (int): The ID of the mapping to delete.\n\nReturns:\n    dict[str, Any]: A confirmation message.\n\nRaises:\n    UnsupportedMappingFileExtensionError: If the custom file extension is\n        unsupported.","operationId":"delete_mapping_api_mappings__mapping_id__delete","parameters":[{"name":"mapping_id","in":"path","required":true,"schema":{"type":"integer","title":"Mapping Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteMappingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/pins/fields":{"get":{"tags":["pins"],"summary":"Get Pin Fields","description":"Return selectable pin field metadata.\n\nReturns:\n    PinOptionsResponse: Available pin field options.","operationId":"get_pin_fields_api_pins_fields_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PinOptionsResponse"}}}}}}},"/api/pins/{profile}":{"get":{"tags":["pins"],"summary":"List Pins","description":"List all pinned AniList entries for a profile.\n\nArgs:\n    profile (str): Profile name.\n    with_anilist (bool): Include AniList metadata for each pin when true.\n\nReturns:\n    PinListResponse: List of pinned entries.","operationId":"list_pins_api_pins__profile__get","parameters":[{"name":"profile","in":"path","required":true,"schema":{"type":"string","minLength":1,"title":"Profile"}},{"name":"with_anilist","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"With Anilist"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PinListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/pins/{profile}/search":{"get":{"tags":["pins"],"summary":"Search Pins","description":"Search AniList for entries to manage pins against.\n\nArgs:\n    profile (str): Profile name to scope existing pins.\n    q (str | None): Text query to search AniList titles.\n    limit: Maximum number of search results to return.\n\nReturns:\n    PinSearchResponse: Matched AniList titles with pin status.","operationId":"search_pins_api_pins__profile__search_get","parameters":[{"name":"profile","in":"path","required":true,"schema":{"type":"string","minLength":1,"title":"Profile"}},{"name":"q","in":"query","required":false,"schema":{"anyOf":[{"type":"string","minLength":1},{"type":"null"}],"title":"Q"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":50,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PinSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/pins/{profile}/{anilist_id}":{"get":{"tags":["pins"],"summary":"Get Pin","description":"Retrieve pin configuration for a specific AniList entry.\n\nArgs:\n    profile (str): Profile name.\n    anilist_id (int): AniList ID.\n    with_anilist (bool): Include AniList metadata for the pin when true.\n\nReturns:\n    PinEntry: Pin configuration.","operationId":"get_pin_api_pins__profile___anilist_id__get","parameters":[{"name":"profile","in":"path","required":true,"schema":{"type":"string","minLength":1,"title":"Profile"}},{"name":"anilist_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Anilist Id"}},{"name":"with_anilist","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"With Anilist"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PinEntry"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["pins"],"summary":"Upsert Pin","description":"Create or update pin fields for an AniList entry.\n\nArgs:\n    request (UpdatePinRequest): Request body with fields to pin.\n    profile (str): Profile name.\n    anilist_id (int): AniList ID.\n    with_anilist (bool): Include AniList metadata for the pin when true.\n\nReturns:\n    PinEntry: Updated pin configuration.","operationId":"upsert_pin_api_pins__profile___anilist_id__put","parameters":[{"name":"profile","in":"path","required":true,"schema":{"type":"string","minLength":1,"title":"Profile"}},{"name":"anilist_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Anilist Id"}},{"name":"with_anilist","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"With Anilist"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePinRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PinEntry"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["pins"],"summary":"Delete Pin","description":"Delete pin configuration for an AniList entry.\n\nArgs:\n    profile (str): Profile name.\n    anilist_id (int): AniList ID.\n\nReturns:\n    OkResponse: Confirmation of successful deletion.","operationId":"delete_pin_api_pins__profile___anilist_id__delete","parameters":[{"name":"profile","in":"path","required":true,"schema":{"type":"string","minLength":1,"title":"Profile"}},{"name":"anilist_id","in":"path","required":true,"schema":{"type":"integer","minimum":1,"title":"Anilist Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__web__routes__api__pins__OkResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/logs/files":{"get":{"tags":["logs"],"summary":"List available log files","description":"Return metadata about available log files.\n\nReturns:\n    JSONResponse: List of log file metadata sorted by most recent first.","operationId":"list_log_files_api_logs_files_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/LogFileModel"},"type":"array","title":"Response List Log Files Api Logs Files Get"}}}}}}},"/api/logs/file/{name}":{"get":{"tags":["logs"],"summary":"Fetch parsed tail of a log file","description":"Return the last N lines of a log file parsed into JSON entries.\n\nArgs:\n    name (str): File name (basename) of the log file.\n    lines (int): Maximum number of lines to return (tail). Default 500.\n\nReturns:\n    JSONResponse: Ordered list (oldest first) of parsed log entries.\n\nRaises:\n    InvalidLogFileNameError: If the file name is invalid.\n    LogFileNotFoundError: If the requested log file does not exist.","operationId":"get_log_file_api_logs_file__name__get","parameters":[{"name":"name","in":"path","required":true,"schema":{"type":"string","title":"Name"}},{"name":"lines","in":"query","required":false,"schema":{"type":"integer","maximum":2000,"minimum":0,"default":500,"title":"Lines"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LogEntryModel"},"title":"Response Get Log File Api Logs File  Name  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/status":{"get":{"tags":["status"],"summary":"Status","description":"Get the status of the application.\n\nReturns:\n    dict[str, Any]: The status of the application.","operationId":"status_api_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatusResponse"}}}}}}},"/api/sync":{"post":{"tags":["sync"],"summary":"Sync All","description":"Trigger a sync for all profiles.\n\nArgs:\n    poll (bool): Whether to poll for updates.\n\nReturns:\n    OkResponse: The response containing the sync status.\n\nRaises:\n    SchedulerNotInitializedError: If the scheduler is not running.","operationId":"sync_all_api_sync_post","parameters":[{"name":"poll","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Poll"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__web__routes__api__sync__OkResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/sync/database":{"post":{"tags":["sync"],"summary":"Sync Database","description":"Trigger a sync for the database.\n\nReturns:\n    OkResponse: The response containing the sync status.\n\nRaises:\n    SchedulerNotInitializedError: If the scheduler is not running.","operationId":"sync_database_api_sync_database_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__web__routes__api__sync__OkResponse"}}}}}}},"/api/sync/profile/{profile}":{"post":{"tags":["sync"],"summary":"Sync Profile","description":"Trigger a sync for a specific profile.\n\nArgs:\n    profile (str): The profile to sync.\n    poll (bool): Whether to poll for updates.\n    rating_keys (list[str] | None): Specific rating keys to sync (if any).\n\nReturns:\n    OkResponse: The response containing the sync status.\n\nRaises:\n    SchedulerNotInitializedError: If the scheduler is not running.\n    ProfileNotFoundError: If the profile does not exist.","operationId":"sync_profile_api_sync_profile__profile__post","parameters":[{"name":"profile","in":"path","required":true,"schema":{"type":"string","title":"Profile"}},{"name":"poll","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Poll"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_sync_profile_api_sync_profile__profile__post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/src__web__routes__api__sync__OkResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/system/settings":{"get":{"tags":["system"],"summary":"Return serialized configuration","description":"Return the current application configuration as JSON.\n\nReturns:\n    dict[str, Any]: The serialized configuration.","operationId":"api_settings_api_system_settings_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SettingsResponse"}}}}}}},"/api/system/about":{"get":{"tags":["system"],"summary":"Return runtime & scheduler diagnostics","description":"Get runtime metadata.\n\nReturns:\n    dict[str, Any]: The runtime metadata.\n\nRaises:\n    SchedulerUnavailableError: If scheduler status cannot be retrieved.\n    PlexAniBridgeError: Any domain error raised by underlying components.","operationId":"api_about_api_system_about_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AboutResponse"}}}}}}},"/api/system/meta":{"get":{"tags":["system","meta"],"summary":"Meta","description":"Application metadata (version, git hash).\n\nReturns:\n    dict[str, str]: The application metadata.","operationId":"meta_api_system_meta_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MetaResponse"}}}}}}},"/webhook/plex":{"post":{"tags":["plex"],"summary":"Plex Webhook","description":"Receive Plex webhook and trigger a targeted sync.\n\nArgs:\n    payload (PlexWebhook): The parsed webhook payload.\n\nReturns:\n    A dictionary containing the result of the webhook processing.\n\nRaises:\n    SchedulerNotInitializedError: If the scheduler is not running.\n    InvalidWebhookPayloadError: If the payload is invalid.\n    ProfileNotFoundError: If no profiles match the account id.\n    WebhookModeDisabledError: If webhook sync mode is disabled for the profile.","operationId":"plex_webhook_webhook_plex_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Plex Webhook Webhook Plex Post"}}}}}}},"/webhook/plex/{profile}":{"post":{"tags":["plex"],"summary":" Deprecated Plex Webhook Profile","description":"Deprecated webhook endpoint that took a profile name as a parameter.","operationId":"_deprecated_plex_webhook_profile_webhook_plex__profile__post","parameters":[{"name":"profile","in":"path","required":true,"schema":{"type":"string","title":"Profile"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AboutInfoModel":{"properties":{"version":{"type":"string","title":"Version"},"git_hash":{"type":"string","title":"Git Hash"},"python":{"type":"string","title":"Python"},"platform":{"type":"string","title":"Platform"},"utc_now":{"type":"string","title":"Utc Now"},"started_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Started At"},"uptime_seconds":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Uptime Seconds"},"uptime":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uptime"}},"type":"object","required":["version","git_hash","python","platform","utc_now"],"title":"AboutInfoModel"},"AboutResponse":{"properties":{"info":{"$ref":"#/components/schemas/AboutInfoModel"},"status":{"additionalProperties":{"$ref":"#/components/schemas/ProfileStatusModel"},"type":"object","title":"Status"}},"type":"object","required":["info","status"],"title":"AboutResponse"},"BackupMeta":{"properties":{"filename":{"type":"string","title":"Filename"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"size_bytes":{"type":"integer","title":"Size Bytes"},"entries":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Entries"},"user":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User"},"age_seconds":{"type":"number","title":"Age Seconds"}},"type":"object","required":["filename","created_at","size_bytes","age_seconds"],"title":"BackupMeta","description":"Metadata about a backup file used for listing in the UI."},"Body_sync_profile_api_sync_profile__profile__post":{"properties":{"rating_keys":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Rating Keys"}},"type":"object","title":"Body_sync_profile_api_sync_profile__profile__post"},"DeleteMappingResponse":{"properties":{"ok":{"type":"boolean","title":"Ok"}},"type":"object","required":["ok"],"title":"DeleteMappingResponse"},"FieldCapability":{"properties":{"key":{"type":"string","title":"Key"},"aliases":{"items":{"type":"string"},"type":"array","title":"Aliases","default":[]},"type":{"$ref":"#/components/schemas/FieldType"},"operators":{"items":{"$ref":"#/components/schemas/FieldOperator"},"type":"array","title":"Operators"},"values":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Values"},"desc":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Desc"}},"type":"object","required":["key","type","operators"],"title":"FieldCapability","description":"Describes supported operators and value type for a query field."},"FieldOperator":{"type":"string","enum":["=",">",">=","<","<=","*","?","range"],"title":"FieldOperator"},"FieldType":{"type":"string","enum":["int","string","enum"],"title":"FieldType"},"GetHistoryResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/HistoryItem"},"type":"array","title":"Items"},"page":{"type":"integer","title":"Page"},"per_page":{"type":"integer","title":"Per Page"},"total":{"type":"integer","title":"Total"},"pages":{"type":"integer","title":"Pages"},"stats":{"additionalProperties":{"type":"integer"},"type":"object","title":"Stats","default":{}}},"type":"object","required":["items","page","per_page","total","pages"],"title":"GetHistoryResponse","description":"Paginated history response (flattened)."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HistoryItem":{"properties":{"id":{"type":"integer","title":"Id"},"profile_name":{"type":"string","title":"Profile Name"},"plex_guid":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Plex Guid"},"plex_rating_key":{"type":"string","title":"Plex Rating Key"},"plex_child_rating_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Plex Child Rating Key"},"plex_type":{"type":"string","title":"Plex Type"},"anilist_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Anilist Id"},"outcome":{"type":"string","title":"Outcome"},"before_state":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Before State"},"after_state":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"After State"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"timestamp":{"type":"string","title":"Timestamp"},"anilist":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Anilist"},"plex":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Plex"},"pinned_fields":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Pinned Fields"}},"type":"object","required":["id","profile_name","plex_rating_key","plex_type","outcome","timestamp"],"title":"HistoryItem","description":"Serializable history entry with optional AniList and Plex metadata."},"ListBackupsResponse":{"properties":{"backups":{"items":{"$ref":"#/components/schemas/BackupMeta"},"type":"array","title":"Backups"}},"type":"object","required":["backups"],"title":"ListBackupsResponse","description":"Response model for listing backups."},"ListMappingsResponse":{"properties":{"items":{"items":{"$ref":"#/components/schemas/MappingItemModel"},"type":"array","title":"Items"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"per_page":{"type":"integer","title":"Per Page"},"pages":{"type":"integer","title":"Pages"},"with_anilist":{"type":"boolean","title":"With Anilist","default":false}},"type":"object","required":["items","total","page","per_page","pages"],"title":"ListMappingsResponse"},"LogEntryModel":{"properties":{"timestamp":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timestamp"},"level":{"type":"string","title":"Level"},"message":{"type":"string","title":"Message"}},"type":"object","required":["level","message"],"title":"LogEntryModel"},"LogFileModel":{"properties":{"name":{"type":"string","title":"Name"},"size":{"type":"integer","title":"Size"},"mtime":{"type":"integer","title":"Mtime"},"current":{"type":"boolean","title":"Current"}},"type":"object","required":["name","size","mtime","current"],"title":"LogFileModel"},"MappingItemModel":{"properties":{"anilist_id":{"type":"integer","title":"Anilist Id"},"anidb_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Anidb Id"},"imdb_id":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Imdb Id"},"mal_id":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Mal Id"},"tmdb_movie_id":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Tmdb Movie Id"},"tmdb_show_id":{"anyOf":[{"items":{"type":"integer"},"type":"array"},{"type":"null"}],"title":"Tmdb Show Id"},"tvdb_id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Tvdb Id"},"tmdb_mappings":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Tmdb Mappings"},"tvdb_mappings":{"anyOf":[{"additionalProperties":{"type":"string"},"type":"object"},{"type":"null"}],"title":"Tvdb Mappings"},"anilist":{"anyOf":[{"$ref":"#/components/schemas/MediaWithoutList"},{"type":"null"}]},"custom":{"type":"boolean","title":"Custom","default":false},"sources":{"items":{"type":"string"},"type":"array","title":"Sources","default":[]}},"type":"object","required":["anilist_id"],"title":"MappingItemModel","description":"Flattened mapping item with optional AniList metadata."},"MediaCoverImage":{"properties":{"extraLarge":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Extralarge"},"large":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Large"},"medium":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Medium"},"color":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color"}},"type":"object","title":"MediaCoverImage","description":"Model representing a media cover image."},"MediaFormat":{"type":"string","enum":["TV","TV_SHORT","MOVIE","SPECIAL","OVA","ONA","MUSIC","MANGA","NOVEL","ONE_SHOT"],"title":"MediaFormat","description":"Enum representing media formats (TV, MOVIE, etc)."},"MediaSeason":{"type":"string","enum":["WINTER","SPRING","SUMMER","FALL"],"title":"MediaSeason","description":"Enum representing media seasons (WINTER, SPRING, etc)."},"MediaStatus":{"type":"string","enum":["FINISHED","RELEASING","NOT_YET_RELEASED","CANCELLED","HIATUS"],"title":"MediaStatus","description":"Enum representing media status (FINISHED, RELEASING, etc)."},"MediaTitle":{"properties":{"romaji":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Romaji"},"english":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"English"},"native":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Native"},"userPreferred":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Userpreferred"}},"type":"object","title":"MediaTitle","description":"Model representing media titles in various languages."},"MediaType":{"type":"string","enum":["ANIME","MANGA"],"title":"MediaType","description":"Enum representing media types (ANIME, MANGA)."},"MediaWithoutList":{"properties":{"id":{"type":"integer","title":"Id"},"type":{"anyOf":[{"$ref":"#/components/schemas/MediaType"},{"type":"null"}]},"format":{"anyOf":[{"$ref":"#/components/schemas/MediaFormat"},{"type":"null"}]},"status":{"anyOf":[{"$ref":"#/components/schemas/MediaStatus"},{"type":"null"}]},"season":{"anyOf":[{"$ref":"#/components/schemas/MediaSeason"},{"type":"null"}]},"seasonYear":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Seasonyear"},"episodes":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Episodes"},"duration":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Duration"},"coverImage":{"anyOf":[{"$ref":"#/components/schemas/MediaCoverImage"},{"type":"null"}]},"title":{"anyOf":[{"$ref":"#/components/schemas/MediaTitle"},{"type":"null"}]}},"type":"object","required":["id"],"title":"MediaWithoutList","description":"Model representing a media entry without list information."},"MetaResponse":{"properties":{"version":{"type":"string","title":"Version"},"git_hash":{"type":"string","title":"Git Hash"}},"type":"object","required":["version","git_hash"],"title":"MetaResponse"},"PinEntry":{"properties":{"profile_name":{"type":"string","title":"Profile Name"},"anilist_id":{"type":"integer","title":"Anilist Id"},"fields":{"items":{"type":"string"},"type":"array","title":"Fields"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"},"anilist":{"anyOf":[{"$ref":"#/components/schemas/MediaWithoutList"},{"type":"null"}]}},"type":"object","required":["profile_name","anilist_id","fields","created_at","updated_at"],"title":"PinEntry","description":"Serialized representation of a pin row."},"PinFieldOption":{"properties":{"value":{"type":"string","title":"Value"},"label":{"type":"string","title":"Label"}},"type":"object","required":["value","label"],"title":"PinFieldOption","description":"Metadata for a selectable pin field."},"PinListResponse":{"properties":{"pins":{"items":{"$ref":"#/components/schemas/PinEntry"},"type":"array","title":"Pins"}},"type":"object","required":["pins"],"title":"PinListResponse","description":"Response model for listing pins."},"PinOptionsResponse":{"properties":{"options":{"items":{"$ref":"#/components/schemas/PinFieldOption"},"type":"array","title":"Options"}},"type":"object","required":["options"],"title":"PinOptionsResponse","description":"Response model for available pin field options."},"PinSearchItem":{"properties":{"anilist":{"$ref":"#/components/schemas/MediaWithoutList"},"pin":{"anyOf":[{"$ref":"#/components/schemas/PinEntry"},{"type":"null"}]}},"type":"object","required":["anilist"],"title":"PinSearchItem","description":"Search result item combining AniList metadata with existing pin state."},"PinSearchResponse":{"properties":{"results":{"items":{"$ref":"#/components/schemas/PinSearchItem"},"type":"array","title":"Results"}},"type":"object","required":["results"],"title":"PinSearchResponse","description":"Response model for AniList search results within the pin manager."},"ProfileConfigModel":{"properties":{"plex_user":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Plex User"},"anilist_user":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Anilist User"},"sync_interval":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Sync Interval"},"sync_modes":{"items":{"type":"string"},"type":"array","title":"Sync Modes","default":[]},"full_scan":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Full Scan"},"destructive_sync":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Destructive Sync"}},"type":"object","title":"ProfileConfigModel","description":"Serialized profile configuration exposed to the web UI."},"ProfileRuntimeStatusModel":{"properties":{"running":{"type":"boolean","title":"Running"},"last_synced":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Synced"},"current_sync":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Current Sync"}},"type":"object","required":["running"],"title":"ProfileRuntimeStatusModel","description":"Runtime status of a profile exposed to the web UI."},"ProfileStatusModel":{"properties":{"config":{"$ref":"#/components/schemas/ProfileConfigModel"},"status":{"$ref":"#/components/schemas/ProfileRuntimeStatusModel"}},"type":"object","required":["config","status"],"title":"ProfileStatusModel","description":"Combined profile configuration and runtime status exposed to the web UI."},"QueryCapabilitiesResponse":{"properties":{"fields":{"items":{"$ref":"#/components/schemas/FieldCapability"},"type":"array","title":"Fields"}},"type":"object","required":["fields"],"title":"QueryCapabilitiesResponse"},"RestoreRequest":{"properties":{"filename":{"type":"string","title":"Filename"}},"type":"object","required":["filename"],"title":"RestoreRequest","description":"Request body for triggering a restore."},"RestoreSummary":{"properties":{"ok":{"type":"boolean","title":"Ok"},"filename":{"type":"string","title":"Filename"},"total_entries":{"type":"integer","title":"Total Entries"},"processed":{"type":"integer","title":"Processed"},"restored":{"type":"integer","title":"Restored"},"skipped":{"type":"integer","title":"Skipped"},"errors":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Errors"},"elapsed_seconds":{"type":"number","title":"Elapsed Seconds"}},"type":"object","required":["ok","filename","total_entries","processed","restored","skipped","errors","elapsed_seconds"],"title":"RestoreSummary","description":"Result of a restore operation."},"SettingsProfileModel":{"properties":{"name":{"type":"string","title":"Name"},"settings":{"additionalProperties":true,"type":"object","title":"Settings"}},"type":"object","required":["name","settings"],"title":"SettingsProfileModel"},"SettingsResponse":{"properties":{"global_config":{"additionalProperties":true,"type":"object","title":"Global Config"},"profiles":{"items":{"$ref":"#/components/schemas/SettingsProfileModel"},"type":"array","title":"Profiles"}},"type":"object","required":["global_config","profiles"],"title":"SettingsResponse"},"StatusResponse":{"properties":{"profiles":{"additionalProperties":{"$ref":"#/components/schemas/ProfileStatusModel"},"type":"object","title":"Profiles"}},"type":"object","required":["profiles"],"title":"StatusResponse"},"SyncField":{"type":"string","enum":["status","score","progress","repeat","notes","started_at","completed_at"],"title":"SyncField","description":"Enumeration of AniList fields that can be synchronized with Plex.\n\nThese fields represent the data that can be synchronized between Plex\nand AniList for each media entry. Each enum value corresponds to an\nAniList API field name in snake_case format."},"UndoResponse":{"properties":{"item":{"$ref":"#/components/schemas/HistoryItem"}},"type":"object","required":["item"],"title":"UndoResponse","description":"Response model for undo operation."},"UpdatePinRequest":{"properties":{"fields":{"items":{"anyOf":[{"$ref":"#/components/schemas/SyncField"},{"type":"string"}]},"type":"array","title":"Fields"}},"type":"object","title":"UpdatePinRequest","description":"Request body for updating pin fields."},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"src__web__routes__api__history__OkResponse":{"properties":{"ok":{"type":"boolean","title":"Ok","default":true}},"type":"object","title":"OkResponse","description":"Response model for successful operations."},"src__web__routes__api__pins__OkResponse":{"properties":{"ok":{"type":"boolean","title":"Ok","default":true}},"type":"object","title":"OkResponse","description":"Response model for successful operations."},"src__web__routes__api__sync__OkResponse":{"properties":{"ok":{"type":"boolean","title":"Ok","default":true}},"type":"object","title":"OkResponse"}}}}