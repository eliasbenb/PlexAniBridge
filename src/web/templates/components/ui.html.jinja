{# Button #}
{% macro button(label, variant='primary', size='sm', icon=None, href=None, disabled=False, extra_classes='', attrs='') -%}
    {%- set base = "inline-flex items-center gap-1 font-medium rounded-md focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 transition-colors shadow-sm disabled:opacity-50 disabled:cursor-not-allowed" -%}
    {%- set sizes = {
        "xs": "text-[11px] px-2 py-1",
        "sm": "text-xs px-3 py-1.5",
        "md": "text-sm px-3.5 py-2",
        "lg": "text-sm px-4 py-2.5"
    } -%}
    {%- set variants = {
        "primary": "bg-blue-600/90 hover:bg-blue-500 text-white",
        "success": "bg-emerald-600/90 hover:bg-emerald-500 text-white",
        "danger": "bg-rose-600/90 hover:bg-rose-500 text-white",
        "neutral": "bg-slate-700/80 hover:bg-slate-600 text-slate-100",
        "outline": "bg-slate-900/40 border border-slate-700/70 hover:bg-slate-800/60 text-slate-100",
        "ghost": "hover:bg-slate-800/60 text-slate-300"
    } -%}
    {%- set classes = base + ' ' + (sizes.get(size,'') ) + ' ' + (variants.get(variant,'') ) + ' ' + extra_classes -%}
    {%- if href -%}
        <a href="{{ href }}"
           class="{{ classes }}"
           {% if disabled %}aria-disabled="true" tabindex="-1"{% endif %}
           {{ attrs|safe }}>
            {%- if icon %}<iconify-icon icon="{{ icon }}" inline></iconify-icon>
            {% endif -%}
            <span>{{ label }}</span>
        </a>
    {%- else -%}
        <button type="button"
                class="{{ classes }}"
                {% if disabled %}disabled{% endif %}
                {{ attrs|safe }}>
            {%- if icon %}<iconify-icon icon="{{ icon }}" inline></iconify-icon>
            {% endif -%}
            <span>{{ label }}</span>
        </button>
    {%- endif -%}
{%- endmacro %}
{# Badge #}
{% macro badge(text, tone='slate', size='xs', icon=None, extra_classes='') -%}
    {%- set tones = {
        "slate": "bg-slate-800/70 text-slate-300",
        "info": "bg-blue-900/40 text-blue-300 ring-1 ring-blue-700/40",
        "success": "bg-emerald-900/40 text-emerald-300 ring-1 ring-emerald-700/40",
        "warn": "bg-amber-900/40 text-amber-300 ring-1 ring-amber-700/40",
        "error": "bg-rose-900/40 text-rose-300 ring-1 ring-rose-700/40"
    } -%}
    {%- set sizes = {"xs": "text-[10px] px-1.5 py-0.5", "sm": "text-[11px] px-2 py-0.5", "md": "text-xs px-2.5 py-0.5"} -%}
    <span class="inline-flex items-center gap-1 rounded-md font-medium {{ sizes.get(size,'') }} {{ tones.get(tone,'') }} {{ extra_classes }}">
        {%- if icon %}<iconify-icon icon="{{ icon }}" inline></iconify-icon>
        {% endif -%}
        <span>{{ text }}</span>
    </span>
{%- endmacro %}
{# Section Heading #}
{% macro section_heading(icon, title, subtitle=None, actions=None) -%}
    <div class="flex flex-wrap items-center gap-2 justify-between">
        <div>
            <h2 class="text-xl font-semibold tracking-tight flex items-center gap-2">
                {%- if icon %}<iconify-icon icon="{{ icon }}" class="text-slate-400" inline></iconify-icon>
                {% endif -%}
                <span>{{ title }}</span>
            </h2>
            {%- if subtitle %}<p class="text-xs text-slate-400 mt-0.5">{{ subtitle|safe }}</p>{%- endif %}
        </div>
        {%- if actions %}<div class="flex items-center gap-2">{{ actions|safe }}</div>{%- endif %}
    </div>
{%- endmacro %}
{# Card #}
{% macro card(content, classes='') -%}
    <div class="rounded-md border border-slate-800/70 bg-slate-900/50 backdrop-blur-sm shadow-sm {{ classes }}">
        {{ content|safe }}
    </div>
{%- endmacro %}
